(()=>{"use strict";class t{constructor(){this.widget=document.querySelector(".credit-cart-validiti"),this.logoArr=Array.from(this.widget.querySelectorAll(".img__item")),this.input=this.widget.querySelector(".input-row__input"),this.button=this.widget.querySelector(".input-row__button")}init(){this.input.addEventListener("input",(t=>{t.target.value=t.target.value.trim(),this.logoArr.forEach((t=>{t.classList.contains("activ")&&t.classList.remove("activ")})),t.target.value[0]&&this.selectLogo(+t.target.value[0]),16==+t.target.value.length&&function(t){let i=0;const s=String(t).replace(/\D/g,""),e=s.length%2!=0;if(""===s)return!1;for(let t=0;t<s.length;t++){let a=parseInt(s[t],10);i+=(0|e)==t%2&&(a*=2)>9?a-9:a}return i%10==0}(+t.target.value)?(this.button.disabled=!1,this.button.classList.add("valid"),this.button.classList.contains("inValid")&&this.button.classList.remove("inValid")):(this.button.classList.add("inValid"),this.button.disabled=!0,this.button.classList.contains("valid")&&this.button.classList.remove("valid"))}))}selectLogo(t){const i=t=>{this.logoArr.forEach((i=>{i.classList.contains(t)&&i.classList.add("activ")}))};2===t?i("mir"):4===t?i("visa"):5===t?i("mastercard"):3===t?i("jcb"):6===t&&i("discover")}}document.addEventListener("DOMContentLoaded",(()=>{(new t).init()}))})();